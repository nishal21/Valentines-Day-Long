<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíñ For You, My Love üíñ</title>
    <link rel="stylesheet" href="style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600&family=Poppins:wght@200;300;400;500;600;700&family=Great+Vibes&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <!-- Cursor Trail -->
    <div id="cursorTrail"></div>

    <!-- Background Elements -->
    <div class="background-container">
        <div class="floating-hearts" id="floatingHearts"></div>
        <div class="particles" id="particles"></div>
        <div class="stars" id="stars"></div>
        <div class="gradient-overlay"></div>
    </div>

    <!-- YouTube Background Music (hidden iframe) -->
    <iframe id="ytMusicFrame" allow="autoplay; encrypted-media" frameborder="0"
        style="position:fixed;top:-9999px;left:-9999px;width:1px;height:1px;pointer-events:none;opacity:0;"></iframe>

    <!-- Language Toggle -->
    <div class="lang-toggle" id="langToggle" title="Switch Language">
        <button class="lang-btn active" data-lang="primary" id="langBtnPrimary">EN</button>
        <span class="lang-divider">|</span>
        <button class="lang-btn" data-lang="secondary" id="langBtnSecondary">ID</button>
    </div>

    <!-- Music Toggle -->
    <button class="music-toggle" id="musicToggle" title="Play Music ‚ô™">
        <i class="fas fa-music"></i>
        <div class="music-waves">
            <span></span><span></span><span></span><span></span>
        </div>
    </button>

    <!-- Navigation Progress -->
    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
        <div class="progress-steps">
            <span class="step active" data-step="1"><i class="fas fa-heart"></i></span>
            <span class="step" data-step="2"><i class="fas fa-clock"></i></span>
            <span class="step" data-step="3"><i class="fas fa-star"></i></span>
            <span class="step" data-step="4"><i class="fas fa-gem"></i></span>
            <span class="step" data-step="5"><i class="fas fa-gift"></i></span>
            <span class="step" data-step="6"><i class="fas fa-envelope-heart"></i></span>
        </div>
    </div>

    <!-- Main Content Container -->
    <div class="main-container">

        <!-- Section 1: Cinematic Welcome -->
        <section class="page-section active" id="page1">
            <div class="content-wrapper">
                <div class="hero-section">
                    <div class="hero-glow"></div>

                    <div class="animated-heart-container">
                        <div class="heart-rings">
                            <div class="ring ring-1"></div>
                            <div class="ring ring-2"></div>
                            <div class="ring ring-3"></div>
                        </div>
                        <div class="animated-heart">
                            <div class="heart-pulse"></div>
                            <div class="heart-core">üíñ</div>
                        </div>
                    </div>

                    <div class="typewriter-container">
                        <h1 class="hero-title">
                            <span class="title-line animate-in" data-delay="0" id="heroGreeting"></span>
                            <span class="title-line accent animate-in" data-delay="400" id="heroPetName"></span>
                            <span class="title-line small animate-in" data-delay="800" id="heroSubtitle"></span>
                        </h1>
                    </div>

                    <p class="hero-subtitle animate-in" data-delay="1200" id="heroDescription"></p>

                    <div class="distance-badge animate-in" data-delay="1600">
                        <div class="badge-content">
                            <span class="badge-icon">üåè</span>
                            <span class="badge-text" id="distanceBadgeText"></span>
                            <span class="badge-sub" id="distanceQuote"></span>
                        </div>
                    </div>

                    <div class="cta-container animate-in" data-delay="2000">
                        <button class="magic-button" onclick="nextPage()">
                            <span class="button-icon">‚ú®</span>
                            <span class="button-text" id="heroCtaButton"></span>
                            <span class="button-icon">üíï</span>
                            <div class="button-glow"></div>
                            <div class="button-shimmer"></div>
                        </button>
                        <p class="scroll-hint"><i class="fas fa-chevron-down bounce"></i></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Our Story Timeline -->
        <section class="page-section" id="page2">
            <div class="content-wrapper">
                <div class="memories-section">
                    <div class="section-header">
                        <span class="section-tag" id="timelineSectionTag"></span>
                        <h2 class="section-title" id="timelineSectionTitle"></h2>
                        <p class="section-subtitle" id="timelineSectionSubtitle"></p>
                    </div>

                    <div class="memory-timeline" id="memoryTimeline">
                        <div class="timeline-line"></div>
                        <!-- Timeline cards will be generated dynamically -->
                    </div>

                    <div class="navigation-buttons">
                        <button class="nav-button secondary" onclick="prevPage()">
                            <i class="fas fa-arrow-left"></i>
                            <span id="timelineBackBtn"></span>
                        </button>
                        <button class="magic-button" onclick="nextPage()">
                            <span class="button-text" id="timelineNextBtn"></span>
                            <div class="button-glow"></div>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Reasons I Love You -->
        <section class="page-section" id="page3">
            <div class="content-wrapper">
                <div class="reasons-section">
                    <div class="section-header">
                        <span class="section-tag" id="reasonsSectionTag"></span>
                        <h2 class="section-title" id="reasonsSectionTitle"></h2>
                        <p class="section-subtitle" id="reasonsSectionSubtitle"></p>
                    </div>

                    <div class="reasons-grid" id="reasonsGrid">
                        <!-- Reason cards will be generated dynamically -->
                    </div>

                    <div class="love-counter">
                        <div class="counter-content">
                            <span class="counter-label" id="counterLabel"></span>
                            <div class="counter-number" id="daysCounter">365</div>
                            <span class="counter-sublabel" id="counterSub"></span>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button class="nav-button secondary" onclick="prevPage()">
                            <i class="fas fa-arrow-left"></i>
                            <span id="reasonsBackBtn"></span>
                        </button>
                        <button class="magic-button" onclick="nextPage()">
                            <span class="button-text" id="reasonsNextBtn"></span>
                            <div class="button-glow"></div>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: The Big Question -->
        <section class="page-section" id="page4">
            <div class="content-wrapper">
                <div class="question-section">
                    <div class="question-ambiance">
                        <div class="rose-petals" id="rosePetals"></div>
                    </div>

                    <div class="question-header">
                        <div class="beating-heart-container">
                            <div class="mega-heart">
                                <span class="heart-emoji">üíñ</span>
                            </div>
                            <div class="heart-particles" id="heartParticles"></div>
                        </div>
                    </div>

                    <div class="question-content">
                        <p class="question-pretext" id="questionPretext">
                            <!-- Pretext lines generated dynamically -->
                        </p>

                        <div class="question-box">
                            <div class="question-box-glow"></div>
                            <div class="question-box-border"></div>
                            <h2 class="big-question" id="bigQuestion">
                                <!-- Question words generated dynamically -->
                            </h2>
                            <p class="question-subtitle" id="questionLocationLine">
                                <i class="fas fa-map-marker-alt"></i>
                                <span id="questionLocation"></span> ‚Äî
                                <span id="questionConnectedBy"></span>
                            </p>
                            <p class="question-promise" id="questionPromise"></p>
                        </div>

                        <div class="answer-buttons">
                            <button class="yes-button-mega" onclick="yesAnswer()">
                                <div class="button-content">
                                    <span class="button-text-main" id="yesButtonMain"></span>
                                    <span class="button-text-sub" id="yesButtonSub"></span>
                                </div>
                                <div class="button-hearts"></div>
                                <div class="button-sparkle"></div>
                            </button>

                            <button class="no-button-mega" id="noButton" onclick="handleNoClick()">
                                <span class="button-text" id="noButtonText"></span>
                            </button>
                        </div>

                        <div class="love-persuasion" id="lovePersuasion"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Success Celebration -->
        <section class="page-section" id="page5">
            <div class="content-wrapper">
                <div class="celebration-section">
                    <div class="celebration-fireworks" id="fireworks"></div>

                    <div class="celebration-header">
                        <div class="success-hearts">
                            <div class="success-heart heart-1">üíñ</div>
                            <div class="success-heart heart-2">üíï</div>
                            <div class="success-heart heart-3">üíù</div>
                            <div class="success-heart heart-4">üíó</div>
                            <div class="success-heart heart-5">üíì</div>
                            <div class="success-heart heart-6">üíò</div>
                        </div>
                        <h1 class="celebration-title">
                            <span class="celebration-emoji">üéâ</span>
                            <span id="celebrationTitle"></span>
                            <span class="celebration-emoji">üéâ</span>
                        </h1>
                        <h2 class="celebration-subtitle" id="celebrationSubtitle"></h2>
                    </div>

                    <div class="celebration-content">
                        <div class="success-message">
                            <div class="message-glow"></div>
                            <p id="celebrationMessage"></p>
                        </div>

                        <div class="future-dreams">
                            <h3 id="futureDreamsTitle"></h3>
                            <div class="dreams-grid" id="dreamsGrid">
                                <!-- Dream cards generated dynamically -->
                            </div>
                        </div>

                        <div class="celebration-actions">
                            <button class="magic-button" onclick="showLoveLetter()">
                                <span class="button-icon">üíå</span>
                                <span class="button-text" id="letterButton"></span>
                                <div class="button-glow"></div>
                            </button>
                            <button class="magic-button outline" onclick="restartJourney()">
                                <span class="button-text" id="replayButton"></span>
                                <div class="button-glow"></div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6: Love Letter -->
        <section class="page-section" id="page6">
            <div class="content-wrapper">
                <div class="love-letter-section">
                    <div class="section-header">
                        <span class="section-tag" id="letterSectionTag"></span>
                        <h2 class="section-title" id="letterSectionTitle"></h2>
                    </div>

                    <div class="letter-container">
                        <div class="envelope-wrapper">
                            <div class="envelope" id="envelope">
                                <div class="envelope-flap"></div>
                                <div class="envelope-body">
                                    <div class="letter-paper">
                                        <div class="letter-decoration top-left">üå∏</div>
                                        <div class="letter-decoration top-right">üå∏</div>
                                        <div class="letter-decoration bottom-left">üå∏</div>
                                        <div class="letter-decoration bottom-right">üå∏</div>

                                        <div class="letter-content" id="letterContent">
                                            <!-- Letter paragraphs generated dynamically -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="letter-actions">
                        <button class="magic-button" onclick="prevPage()">
                            <span class="button-text">
                                <i class="fas fa-heart"></i>
                                <span id="letterBackBtn"></span>
                            </span>
                            <div class="button-glow"></div>
                        </button>
                        <button class="magic-button outline" onclick="restartJourney()">
                            <span class="button-text" id="letterRestartBtn"></span>
                            <div class="button-glow"></div>
                        </button>
                    </div>

                    <div class="final-message">
                        <p id="finalMessage"></p>
                        <div class="infinity-symbol">‚àû</div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- Confetti Canvas -->
    <canvas id="confettiCanvas"></canvas>

    <!-- Music Control Script -->
    <script>
        var musicPlaying = false;

        function toggleMusic() {
            var frame = document.getElementById('ytMusicFrame');
            var btn = document.getElementById('musicToggle');
            if (!frame || !btn) return;

            var videoId = (typeof CONFIG !== 'undefined') ? CONFIG.youtubeVideoId : 'dQw4w9WgXcQ';

            if (musicPlaying) {
                frame.src = '';
                btn.classList.remove('playing');
                musicPlaying = false;
            } else {
                frame.src = 'https://www.youtube.com/embed/' + videoId +
                    '?autoplay=1&loop=1&playlist=' + videoId +
                    '&controls=0&showinfo=0&modestbranding=1&rel=0';
                btn.classList.add('playing');
                musicPlaying = true;
            }
        }
    </script>

    <!-- Load config first, then the main script -->
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>

</html>